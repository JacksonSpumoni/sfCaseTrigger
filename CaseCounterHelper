public class CaseCounterHelper2 {

	//HELPER METHOD 1
    public static set <Id> GetSetOfContactIdsFromListOfCases(list <case> CaseList){
        Set <Id> ContactIdList = new Set <Id> ();
        for (case c : CaseList){
            if(c.ContactId != NULL){
                ContactIdList.add(c.ContactId);   
            }
        }
        return ContactIdList;
        
      
    }
    
    //HELPER METHOD 2
    public static map <Id, Integer> GetMapOfNumCasesPerContact(set <Id> contactIdList){
        Map <Id,integer> ContactIdWithNumCases = new map <Id, integer>();
        for (Id contactId : ContactIdList){
            ContactIdWithNumCases.put (contactId,0);
        }
        list <AggregateResult> CasesOnContact = [select ContactId, count(Id) ContactCases
                                                 from Case
                                                 Where ContactId in :ContactIdList
                                                 Group by ContactId];
        for (aggregateresult agg :CasesOnContact){
            string Contact = string.valueof(agg.get('ContactId'));
            integer NumOfCases = integer.valueof(agg.get('ContactCases'));
            ContactIdWithNumCases.put(Contact,NumOfCases);
        }
        
        return ContactIdWithNumCases;
    }

}
